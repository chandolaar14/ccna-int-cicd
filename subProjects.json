[
  {
    "title": "Platform",
    "description": "Platform code",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "action",
        "title": "Test",
        "actions": [
          {
            "type": "post-build",
            "title": "Functional Tests",
            "output": "functionalResults",
            "environment":
            {
              "computeType": "BUILD_GENERAL1_LARGE",
              "privilegedMode": true
            }
          },
          {
            "type": "post-build",
            "title": "Performance Tests",
            "output": "performanceResults",
            "environment":
            {
              "computeType": "BUILD_GENERAL1_LARGE",
              "privilegedMode": true
            }
          },
          {
            "type": "post-build",
            "title": "DR Tests",
            "output": "drResults",
            "environment":
            {
              "computeType": "BUILD_GENERAL1_LARGE",
              "privilegedMode": true
            }
          }
        ]
      },
      {
        "type": "action",
        "title": "Security Test",
        "actions": [
          {
            "title": "Checkmarx Scan",
            "inputs": [
              "source"
            ],
            "output": "checkmarxResults"
          }
        ]
      },
      {
        "type": "single-action",
        "title": "Tag",
        "input": "buildPackage",
        "output": "versionedPackage"
      },
      {
        "type": "action",
        "title": "Deliver",
        "actions": [
          {
            "title": "Deliver",
            "inputs": [
              "versionedPackage",
              "functionalResults",
              "performanceResults",
              "drResults",
              "checkmarxResults"
            ]
          }
        ]
      }
    ]
  },
  {
    "title": "Account Infrastructure",
    "description": "Account Infrastructure",
    "stages": [
      {
        "type": "single-action",
        "title": "NonProd Plan",
        "input": "source"
      },
      {
        "type": "approval",
        "title": "NonProd Approval"
      },
      {
        "type": "single-action",
        "title": "NonProd Deploy",
        "input": "source"
      },
      {
        "type": "approval",
        "title": "Prod Plan Approval"
      },
      {
        "type": "single-action",
        "title": "Prod Plan",
        "input": "source"
      },
      {
        "type": "approval",
        "title": "Prod Approval"
      },
      {
        "type": "single-action",
        "title": "Prod Deploy",
        "input": "source"
      }
    ]
  },
  {
    "title": "Platform Deploy",
    "description": "Migration Platform Deploy Configuration",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "single-action",
        "title": "QA Plan",
        "input": "buildPackage",
        "output": "qaPlan"
      },
      {
        "type": "post-build",
        "title": "QA Deploy",
        "environment":
        {
          "privilegedMode": true
        }
      },
      {
        "type": "single-action",
        "title": "UAT Plan",
        "input": "buildPackage",
        "output": "uatPlan"
      },
      {
        "type": "approval",
        "title": "UAT Approval"
      },
      {
        "type": "post-build",
        "title": "UAT Deploy",
        "environment":
        {
          "privilegedMode": true
        }

      },
      {
        "type": "approval",
        "title": "Prod Plan Approval"
      },
      {
        "type": "single-action",
        "title": "Prod Plan",
        "input": "buildPackage",
        "output": "prodPlan"
      },
      {
        "type": "approval",
        "title": "Prod Approval"
      },
      {
        "type": "post-build",
        "title": "Prod Deploy",
        "environment":
        {
          "privilegedMode": true
        }

      }
    ]
  },
  {
    "title": "Test Data",
    "description": "Data for Platform and Migration testing",
    "stages": [
      {
        "type": "single-action",
        "title": "Sync",
        "input": "source"
      }
    ]
  },
  {
    "title": "Transfer Server",
    "description": "AWS Transfer Server for Platform and Migration testing",
    "stages": [
      {
        "type": "single-action",
        "title": "Deploy",
        "input": "source"
      }
    ]
  },
  {
    "title": "Metaschema Utils",
    "description": "Utilities to validate and deployment metaschema",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "Test"
      },
      {
        "type": "single-action",
        "title": "Tag",
        "input": "buildPackage",
        "output": "versionedPackage"
      },
      {
        "type": "action",
        "title": "Deliver",
        "actions": [
          {
            "title": "Deliver",
            "inputs": [
              "versionedPackage"
            ]
          }
        ]
      }
    ]
  },
  {
    "title": "Migration",
    "description": "Migration configuration",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "QA Plan"
      },
      {
        "type": "post-build",
        "title": "QA Deploy"
      },
      {
        "type": "post-build",
        "title": "QA Integration Test"
      },
      {
        "type": "post-build",
        "title": "UAT Plan"
      },
      {
        "type": "approval",
        "title": "UAT Approval"
      },
      {
        "type": "post-build",
        "title": "UAT Deploy"
      },
      {
        "type": "approval",
        "title": "Prod Plan Approval"
      },
      {
        "type": "post-build",
        "title": "Prod Plan"
      },
      {
        "type": "approval",
        "title": "Prod Approval"
      },
      {
        "type": "post-build",
        "title": "Prod Deploy"
      }
    ]
  },
  {
    "title": "Demo",
    "description": "Configuration and deployment of a demo environment",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "Plan"
      },
      {
        "type": "post-build",
        "title": "Deploy",
        "environment":
        {
          "privilegedMode": true
        }
      }
    ]
  },
  {
    "title": "Platform Load Test",
    "description": "Configuration and deployment of a platform load test environment",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "Plan"
      },
      {
        "type": "post-build",
        "title": "Deploy",
        "environment":
        {
          "privilegedMode": true
        }
      },
      {
        "type": "action",
        "title": "Test",
        "actions": [
          {
            "type": "post-build",
            "title": "Load Tests",
            "output": "loadResults"
          }
        ]
      }
    ]
  },
  {
    "title": "Migration Utils",
    "description": "Migration configuration generation utilities"
  },
  {
    "title": "Config UI",
    "description": "Config UI Code",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "action",
        "title": "Test",
        "actions": [
          {
            "type": "post-build",
            "title": "Functional Tests",
            "output": "functionalResults",
            "environment":
            {
              "computeType": "BUILD_GENERAL1_LARGE",
              "privilegedMode": true
            }
          }
        ]
      },
      {
        "type": "action",
        "title": "Security Test",
        "actions": [
          {
            "title": "Checkmarx Scan",
            "inputs": [
              "source"
            ],
            "output": "checkmarxResults"
          }
        ]
      },
      {
        "type": "single-action",
        "title": "Tag",
        "input": "buildPackage",
        "output": "versionedPackage"
      },
      {
        "type": "action",
        "title": "Deliver",
        "actions": [
          {
            "title": "Deliver",
            "inputs": [
              "versionedPackage",
              "functionalResults",
              "checkmarxResults"
            ]
          }
        ]
      }
    ]
  },
  {
    "title": "Config UI Demo",
    "description": "Configuration and Deployment for the Configuration UI Demo Environment",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "Plan"
      },
      {
        "type": "post-build",
        "title": "Deploy",
        "environment":
        {
          "privilegedMode": true
        }
      }
    ]
  },
  {
    "title": "Config UI Deploy",
    "description": "Deployment for the Configuration UI",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "single-action",
        "title": "Main Plan",
        "input": "buildPackage",
        "output": "mainPlan"
      },
      {
        "type": "approval",
        "title": "Main Approval"
      },
      {
        "type": "post-build",
        "title": "Main Deploy",
        "environment":
        {
          "privilegedMode": true
        }
      }
    ]
  },
  {
    "title": "Networkmon",
    "description": "Network monitoring tool"
  }
]
