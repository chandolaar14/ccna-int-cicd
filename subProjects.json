[
  {
    "title": "Platform",
    "description": "Platform code",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "action",
        "title": "Test",
        "actions": [
          {
            "type": "post-build",
            "title": "Functional Tests",
            "output": "functionalResults",
            "computeType": "BUILD_GENERAL1_MEDIUM"
          },
          {
            "type": "post-build",
            "title": "Performance Tests",
            "output": "performanceResults"
          }
        ]
      },
      {
        "type": "action",
        "title": "Security Test",
        "actions": [
          {
            "title": "Checkmarx Scan",
            "inputs": [
              "source"
            ],
            "output": "checkmarxResults"
          }
        ]
      },
      {
        "type": "single-action",
        "title": "Tag",
        "input": "buildPackage",
        "output": "versionedPackage"
      },
      {
        "type": "action",
        "title": "Deliver",
        "actions": [
          {
            "title": "Deliver",
            "inputs": [
              "versionedPackage",
              "functionalResults",
              "performanceResults",
              "checkmarxResults"
            ]
          }
        ]
      }
    ]
  },
  {
    "title": "Account Infrastructure",
    "description": "Account Infrastructure",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "NonProd Plan"
      },
      {
        "type": "approval",
        "title": "NonProd Approval"
      },
      {
        "type": "post-build",
        "title": "NonProd Deploy"
      },
      {
        "type": "post-build",
        "title": "Prod Plan"
      },
      {
        "type": "approval",
        "title": "Prod Approval"
      },
      {
        "type": "post-build",
        "title": "Prod Deploy"
      }
    ]
  },
  {
    "title": "Platform Deploy",
    "description": "Migration Platform Deploy Configuration",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "single-action",
        "title": "QA Plan",
        "input": "buildPackage",
        "output": "qaPlan"
      },
      {
        "type": "post-build",
        "title": "QA Deploy"
      },
      {
        "type": "single-action",
        "title": "UAT Plan",
        "input": "buildPackage",
        "output": "uatPlan"
      },
      {
        "type": "approval",
        "title": "UAT Approval"
      },
      {
        "type": "post-build",
        "title": "UAT Deploy"
      },
      {
        "type": "single-action",
        "title": "Prod Plan",
        "input": "buildPackage",
        "output": "prodPlan"
      },
      {
        "type": "approval",
        "title": "Prod Approval"
      },
      {
        "type": "post-build",
        "title": "Prod Deploy"
      }
    ]
  },
  {
    "title": "Test Data",
    "description": "Data for Platform and Migration testing",
    "stages": [
      {
        "type": "single-action",
        "title": "Sync",
        "input": "source"
      }
    ]
  },
  {
    "title": "Transfer Server",
    "description": "AWS Transfer Server for Platform and Migration testing",
    "stages": [
      {
        "type": "single-action",
        "title": "Deploy",
        "input": "source"
      }
    ]
  },
  {
    "title": "Metaschema Utils",
    "description": "Utilities to validate and deployment metaschema",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "Test"
      },
      {
        "type": "single-action",
        "title": "Tag",
        "input": "buildPackage",
        "output": "versionedPackage"
      },
      {
        "type": "action",
        "title": "Deliver",
        "actions": [
          {
            "title": "Deliver",
            "inputs": [
              "versionedPackage"
            ]
          }
        ]
      }
    ]
  },
  {
    "title": "Migration",
    "description": "Migration configuration",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "QA Plan"
      },
      {
        "type": "post-build",
        "title": "QA Deploy"
      },
      {
        "type": "post-build",
        "title": "UAT Plan"
      },
      {
        "type": "approval",
        "title": "UAT Approval"
      },
      {
        "type": "post-build",
        "title": "UAT Deploy"
      },
      {
        "type": "post-build",
        "title": "Prod Plan"
      },
      {
        "type": "approval",
        "title": "Prod Approval"
      },
      {
        "type": "post-build",
        "title": "Prod Deploy"
      }
    ]
  },
  {
    "title": "Demo",
    "description": "Configuration and deployment of a demo environment",
    "stages": [
      {
        "type": "build"
      },
      {
        "type": "post-build",
        "title": "Plan"
      },
      {
        "type": "approval"
      },
      {
        "type": "post-build",
        "title": "Deploy"
      }
    ]
  },
  {
    "title": "Migration Utils",
    "description": "Migration configuration generation utilities"
  }
]
